<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quản lý người dùng - WarehousePro</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: "#3b82f6",
            secondary: "#64748b",
            success: "#10b981",
            danger: "#ef4444",
            warning: "#f59e0b",
            info: "#06b6d4",
          },
        },
      },
    };
  </script>
  <style>
    select[multiple] {
      min-height: 100px;
    }

    select[multiple] option {
      padding: 8px 12px;
    }

    .sidebar {
      transition: all 0.3s ease;
    }

    .sidebar.collapsed {
      width: 70px;
    }

    .sidebar.collapsed .nav-text {
      display: none;
    }

    .sidebar.collapsed .logo-text {
      display: none;
    }

    .sidebar.collapsed ul li a i {
      margin-right: 0;
      display: flex;
      justify-content: center;
      width: 100%;
    }

    /* New toggle button styles */
    .toggle-btn {
      transition: all 0.3s ease;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      cursor: pointer;
    }

    .toggle-btn:hover {
      background-color: #f1f5f9;
    }

    .toggle-btn i {
      transition: transform 0.3s ease;
    }

    .sidebar.collapsed .toggle-btn i {
      transform: rotate(180deg);
    }

    .content {
      transition: all 0.3s ease;
    }

    .sidebar.collapsed+.content {
      margin-left: 70px;
    }

    .custom-scrollbar::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
      background: #f1f1f1;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: #cbd5e1;
      border-radius: 10px;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
      background: #94a3b8;
    }

    @keyframes pulse {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.5;
      }
    }

    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
    }

    .status-active {
      background-color: #10b981;
      color: #ffffff;
    }

    .status-inactive {
      background-color: #ef4444;
      color: #ffffff;
    }

    .role-admin {
      background-color: #3b82f6;
      color: #ffffff;
    }

    .role-manager {
      background-color: #f59e0b;
      color: #ffffff;
    }

    .role-user {
      background-color: #10b981;
      color: #ffffff;
    }

    .animate-fade-in {
      animation: fadeIn 0.3s ease-in-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>

<body class="bg-gray-50">
  <div class="flex h-screen overflow-hidden">
    <!-- Sidebar -->
    <div class="sidebar bg-white shadow-md w-64 flex flex-col">
      <div class="p-4 flex items-center justify-between border-b">
        <div class="flex items-center">
          <i class="fas fa-warehouse text-primary text-2xl mr-3"></i>
          <span class="logo-text font-bold text-xl text-gray-800">WarehousePro</span>
        </div>
        <button id="toggle-sidebar" class="toggle-btn text-gray-500 hover:text-gray-700">
          <i class="fas fa-chevron-left"></i>
        </button>
      </div>
      <div class="flex-1 overflow-y-auto custom-scrollbar">
        <nav class="p-4">
          <!-- Đăng ký xe -->
          <div class="mb-6">
            <p class="text-xs uppercase text-gray-500 font-semibold mb-2 nav-text">
              Đăng ký xe
            </p>
            <ul>
              <li>
                <a href="./DangKyXe.html" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-arrow-down fa-fw mr-3"></i>
                  <span class="nav-text">Nhập kho</span>
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-arrow-up fa-fw mr-3"></i>
                  <span class="nav-text">Xuất kho</span>
                </a>
              </li>
            </ul>
          </div>

          <!-- Quản lý kho -->
          <div class="mb-6">
            <p class="text-xs uppercase text-gray-500 font-semibold mb-2 nav-text">
              Quản lý kho
            </p>
            <ul>
              <li>
                <a href="#" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-exchange-alt fa-fw mr-3"></i>
                  <span class="nav-text">Chuyển trạng thái hàng</span>
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-arrow-up fa-fw mr-3"></i>
                  <span class="nav-text">Xuất kho</span>
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-random fa-fw mr-3"></i>
                  <span class="nav-text">Chuyển kho</span>
                </a>
              </li>
            </ul>
          </div>

          <!-- Danh mục -->
          <div class="mb-6">
            <p class="text-xs uppercase text-gray-500 font-semibold mb-2 nav-text">
              Danh mục
            </p>
            <ul>
              <li>
                <a href="#" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-warehouse fa-fw mr-3"></i>
                  <span class="nav-text">Kho</span>
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-user fa-fw mr-3"></i>
                  <span class="nav-text">Nhân viên</span>
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-balance-scale fa-fw mr-3"></i>
                  <span class="nav-text">Đơn vị tính</span>
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-truck fa-fw mr-3"></i>
                  <span class="nav-text">Xe</span>
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-cubes fa-fw mr-3"></i>
                  <span class="nav-text">Hàng hóa</span>
                </a>
              </li>
            </ul>
          </div>

          <!-- Khách hàng -->
          <div class="mb-6">
            <p class="text-xs uppercase text-gray-500 font-semibold mb-2 nav-text">
              Khách hàng
            </p>
            <ul>
              <li>
                <a href="#" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-users fa-fw mr-3"></i>
                  <span class="nav-text">Quản lý khách hàng</span>
                </a>
              </li>
              <li>
                <a href="./HopDong.html" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-file-contract fa-fw mr-3"></i>
                  <span class="nav-text">Hợp đồng</span>
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-money-check-alt fa-fw mr-3"></i>
                  <span class="nav-text">Thanh toán</span>
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-balance-scale fa-fw mr-3"></i>
                  <span class="nav-text">Danh mục cân</span>
                </a>
              </li>
              <li>
                <a href="./CongNo.html" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-file-invoice-dollar fa-fw mr-3"></i>
                  <span class="nav-text">Quản lý công nợ</span>
                </a>
              </li>
            </ul>
          </div>

          <!-- Quản trị hệ thống -->
          <div class="mb-6">
            <p class="text-xs uppercase text-gray-500 font-semibold mb-2 nav-text">
              Quản trị hệ thống
            </p>
            <ul>
              <li>
                <a href="./NguoiDung.html" class="flex items-center p-2 bg-blue-50 text-blue-600 rounded-lg">
                  <i class="fas fa-user-cog fa-fw mr-3"></i>
                  <span class="nav-text">Quản lý người dùng</span>
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-users-cog fa-fw mr-3"></i>
                  <span class="nav-text">Quản lý nhóm người dùng</span>
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-shield-alt fa-fw mr-3"></i>
                  <span class="nav-text">Quản lý phân quyền</span>
                </a>
              </li>
            </ul>
          </div>

          <!-- Báo cáo quản trị -->
          <div>
            <p class="text-xs uppercase text-gray-500 font-semibold mb-2 nav-text">
              Báo cáo quản trị
            </p>
            <ul>
              <li>
                <a href="#" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-clipboard-list fa-fw mr-3"></i>
                  <span class="nav-text">Báo cáo tồn kho theo khách hàng</span>
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-clipboard-list fa-fw mr-3"></i>
                  <span class="nav-text">Báo cáo tồn kho theo công nợ</span>
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center p-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                  <i class="fas fa-tachometer-alt fa-fw mr-3"></i>
                  <span class="nav-text">Dashboard</span>
                </a>
              </li>
            </ul>
          </div>
        </nav>
      </div>
      <div class="p-4 border-t">
        <div class="flex items-center">
          <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="User" class="w-8 h-8 rounded-full mr-2" />
          <div class="nav-text">
            <p class="text-sm font-medium text-gray-800">Admin</p>
            <p class="text-xs text-gray-500">Quản trị hệ thống</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="content flex-1 overflow-auto">
      <!-- Header -->
      <header class="bg-white shadow-sm p-4 flex justify-between items-center">
        <h1 class="text-xl font-semibold text-gray-800">
          Quản lý người dùng
        </h1>
        <div class="flex items-center space-x-4">
          <div class="relative">
            <input type="text" placeholder="Tìm kiếm..."
              class="pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" />
            <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
          </div>
          <button class="p-2 text-gray-500 hover:text-gray-700 relative">
            <i class="fas fa-bell"></i>
            <span class="absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500"></span>
          </button>
        </div>
      </header>

      <!-- Main Content Area -->
      <main class="flex-1 overflow-y-auto p-6">
        <!-- Action Bar -->
        <div class="bg-white rounded-lg shadow-sm p-4 mb-6 flex flex-wrap justify-between items-center">
          <div class="relative w-120">
              <input type="text" placeholder="Tìm kiếm..."
                class="pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-[400px]" />
              <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
            </div>
          <div class="flex items-center space-x-2 mb-2 sm:mb-0">
            <span class="text-sm text-gray-600 mr-2">Hiển thị:</span>
            <select class="border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <option selected>10</option>
              <option>25</option>
              <option>50</option>
              <option>100</option>
            </select>
            <button class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center">
              <i class="fas fa-file-export mr-2"></i> Xuất Excel
            </button>
            <button class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center">
              <i class="fas fa-filter mr-2"></i> Lọc
            </button>
            <button id="add-user-btn"
              class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center">
              <i class="fas fa-plus mr-2"></i> Thêm mới
            </button>
          </div>
        </div>

        <!-- User Table -->
        <div class="bg-white rounded-lg shadow-sm overflow-hidden">
          <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200">
              <thead class="bg-gray-50">
                <tr>
                  <th scope="col"
                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    <div class="flex items-center">
                      <input type="checkbox"
                        class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" />
                      <span class="ml-2">Tên người dùng</span>
                    </div>
                  </th>
                  <th scope="col"
                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Email
                  </th>
                  <th scope="col"
                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Số điện thoại
                  </th>
                  <th scope="col"
                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Vai trò
                  </th>
                  <th scope="col"
                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Trạng thái
                  </th>
                  <th scope="col"
                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Ngày tạo <i class="fas fa-sort"></i>
                  </th>
                  <th scope="col"
                    class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Thao tác
                  </th>
                </tr>
              </thead>
              <tbody class="bg-white divide-y divide-gray-200">
                <!-- User 1 -->
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 whitespace-nowrap">
                    <div class="flex items-center">
                      <input type="checkbox"
                        class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" />
                      <div class="flex items-center ml-4">
                        <img class="user-avatar mr-3" src="https://randomuser.me/api/portraits/women/44.jpg"
                          alt="User avatar" />
                        <div>
                          <div class="text-sm font-medium text-gray-900">
                            Nguyễn Thị Hương
                          </div>
                          <div class="text-sm text-gray-500">
                            huong.nguyen
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                    huong.nguyen@example.com
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                    0987654321
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full role-admin">Admin</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-active">Hoạt
                      động</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                    15/06/2023
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                    <div class="flex justify-end space-x-2">
                      <button class="text-blue-600 hover:text-blue-900">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="text-yellow-600 hover:text-yellow-900 edit-btn" data-id="1">
                        <i class="fas fa-edit"></i>
                      </button>
                      <button class="text-red-600 hover:text-red-900 delete-btn" data-id="1">
                        <i class="fas fa-trash"></i>
                      </button>
                    </div>
                  </td>
                </tr>

                <!-- User 2 -->
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 whitespace-nowrap">
                    <div class="flex items-center">
                      <input type="checkbox"
                        class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" />
                      <div class="flex items-center ml-4">
                        <img class="user-avatar mr-3" src="https://randomuser.me/api/portraits/men/32.jpg"
                          alt="User avatar" />
                        <div>
                          <div class="text-sm font-medium text-gray-900">
                            Trần Văn Đức
                          </div>
                          <div class="text-sm text-gray-500">duc.tran</div>
                        </div>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                    duc.tran@example.com
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                    0912345678
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full role-manager">Quản
                      lý</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-active">Hoạt
                      động</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                    20/05/2023
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                    <div class="flex justify-end space-x-2">
                      <button class="text-blue-600 hover:text-blue-900">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="text-yellow-600 hover:text-yellow-900">
                        <i class="fas fa-edit"></i>
                      </button>
                      <button class="text-red-600 hover:text-red-900">
                        <i class="fas fa-trash"></i>
                      </button>
                    </div>
                  </td>
                </tr>

                <!-- User 3 -->
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 whitespace-nowrap">
                    <div class="flex items-center">
                      <input type="checkbox"
                        class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" />
                      <div class="flex items-center ml-4">
                        <img class="user-avatar mr-3" src="https://randomuser.me/api/portraits/women/63.jpg"
                          alt="User avatar" />
                        <div>
                          <div class="text-sm font-medium text-gray-900">
                            Lê Thị Mai
                          </div>
                          <div class="text-sm text-gray-500">mai.le</div>
                        </div>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                    mai.le@example.com
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                    0978123456
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full role-user">Nhân
                      viên</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-active">Hoạt
                      động</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                    10/07/2023
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                    <div class="flex justify-end space-x-2">
                      <button class="text-blue-600 hover:text-blue-900">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="text-yellow-600 hover:text-yellow-900">
                        <i class="fas fa-edit"></i>
                      </button>
                      <button class="text-red-600 hover:text-red-900">
                        <i class="fas fa-trash"></i>
                      </button>
                    </div>
                  </td>
                </tr>

                <!-- User 4 -->
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 whitespace-nowrap">
                    <div class="flex items-center">
                      <input type="checkbox"
                        class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" />
                      <div class="flex items-center ml-4">
                        <img class="user-avatar mr-3" src="https://randomuser.me/api/portraits/men/75.jpg"
                          alt="User avatar" />
                        <div>
                          <div class="text-sm font-medium text-gray-900">
                            Phạm Văn Tùng
                          </div>
                          <div class="text-sm text-gray-500">tung.pham</div>
                        </div>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                    tung.pham@example.com
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                    0967890123
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full role-user">Nhân
                      viên</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-inactive">Ngừng
                      hoạt động</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                    05/04/2023
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                    <div class="flex justify-end space-x-2">
                      <button class="text-blue-600 hover:text-blue-900">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="text-yellow-600 hover:text-yellow-900">
                        <i class="fas fa-edit"></i>
                      </button>
                      <button class="text-red-600 hover:text-red-900">
                        <i class="fas fa-trash"></i>
                      </button>
                    </div>
                  </td>
                </tr>

                <!-- User 5 -->
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 whitespace-nowrap">
                    <div class="flex items-center">
                      <input type="checkbox"
                        class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" />
                      <div class="flex items-center ml-4">
                        <img class="user-avatar mr-3" src="https://randomuser.me/api/portraits/women/28.jpg"
                          alt="User avatar" />
                        <div>
                          <div class="text-sm font-medium text-gray-900">
                            Hoàng Thị Lan
                          </div>
                          <div class="text-sm text-gray-500">lan.hoang</div>
                        </div>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                    lan.hoang@example.com
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                    0934567890
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full role-manager">Quản
                      lý</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-active">Hoạt
                      động</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                    22/06/2023
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                    <div class="flex justify-end space-x-2">
                      <button class="text-blue-600 hover:text-blue-900">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="text-yellow-600 hover:text-yellow-900">
                        <i class="fas fa-edit"></i>
                      </button>
                      <button class="text-red-600 hover:text-red-900">
                        <i class="fas fa-trash"></i>
                      </button>
                    </div>
                  </td>
                </tr>
                <!-- User 6 -->
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 whitespace-nowrap">
                    <div class="flex items-center">
                      <input type="checkbox"
                        class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" />
                      <div class="flex items-center ml-4">
                        <img class="user-avatar mr-3" src="https://randomuser.me/api/portraits/men/32.jpg"
                          alt="User avatar" />
                        <div>
                          <div class="text-sm font-medium text-gray-900">Phạm Văn An</div>
                          <div class="text-sm text-gray-500">an.pham</div>
                        </div>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">an.pham@example.com</td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">0981234567</td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full role-admin">Admin</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-active">Hoạt
                      động</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">10/07/2023</td>
                  <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                    <div class="flex justify-end space-x-2">
                      <button class="text-blue-600 hover:text-blue-900"><i class="fas fa-eye"></i></button>
                      <button class="text-yellow-600 hover:text-yellow-900"><i class="fas fa-edit"></i></button>
                      <button class="text-red-600 hover:text-red-900"><i class="fas fa-trash"></i></button>
                    </div>
                  </td>
                </tr>

                <!-- User 7 -->
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 whitespace-nowrap">
                    <div class="flex items-center">
                      <input type="checkbox"
                        class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" />
                      <div class="flex items-center ml-4">
                        <img class="user-avatar mr-3" src="https://randomuser.me/api/portraits/women/56.jpg"
                          alt="User avatar" />
                        <div>
                          <div class="text-sm font-medium text-gray-900">Trần Mai Phương</div>
                          <div class="text-sm text-gray-500">phuong.tran</div>
                        </div>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">phuong.tran@example.com</td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">0912345678</td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full role-user">Nhân
                      viên</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-inactive">Ngừng
                      hoạt động</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">01/08/2023</td>
                  <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                    <div class="flex justify-end space-x-2">
                      <button class="text-blue-600 hover:text-blue-900"><i class="fas fa-eye"></i></button>
                      <button class="text-yellow-600 hover:text-yellow-900"><i class="fas fa-edit"></i></button>
                      <button class="text-red-600 hover:text-red-900"><i class="fas fa-trash"></i></button>
                    </div>
                  </td>
                </tr>

                <!-- User 8 -->
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 whitespace-nowrap">
                    <div class="flex items-center">
                      <input type="checkbox"
                        class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" />
                      <div class="flex items-center ml-4">
                        <img class="user-avatar mr-3" src="https://randomuser.me/api/portraits/men/45.jpg"
                          alt="User avatar" />
                        <div>
                          <div class="text-sm font-medium text-gray-900">Ngô Bá Khoa</div>
                          <div class="text-sm text-gray-500">khoa.ngo</div>
                        </div>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">khoa.ngo@example.com</td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">0977654321</td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full role-user">Nhân
                      viên</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-active">Hoạt
                      động</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">12/07/2023</td>
                  <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                    <div class="flex justify-end space-x-2">
                      <button class="text-blue-600 hover:text-blue-900"><i class="fas fa-eye"></i></button>
                      <button class="text-yellow-600 hover:text-yellow-900"><i class="fas fa-edit"></i></button>
                      <button class="text-red-600 hover:text-red-900"><i class="fas fa-trash"></i></button>
                    </div>
                  </td>
                </tr>

                <!-- User 9 -->
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 whitespace-nowrap">
                    <div class="flex items-center">
                      <input type="checkbox"
                        class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" />
                      <div class="flex items-center ml-4">
                        <img class="user-avatar mr-3" src="https://randomuser.me/api/portraits/women/75.jpg"
                          alt="User avatar" />
                        <div>
                          <div class="text-sm font-medium text-gray-900">Lê Thu Hằng</div>
                          <div class="text-sm text-gray-500">hang.le</div>
                        </div>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">hang.le@example.com</td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">0907654321</td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full role-manager">Quản
                      lý</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-inactive">Ngừng
                      hoạt động</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">18/07/2023</td>
                  <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                    <div class="flex justify-end space-x-2">
                      <button class="text-blue-600 hover:text-blue-900"><i class="fas fa-eye"></i></button>
                      <button class="text-yellow-600 hover:text-yellow-900"><i class="fas fa-edit"></i></button>
                      <button class="text-red-600 hover:text-red-900"><i class="fas fa-trash"></i></button>
                    </div>
                  </td>
                </tr>

                <!-- User 10 -->
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 whitespace-nowrap">
                    <div class="flex items-center">
                      <input type="checkbox"
                        class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" />
                      <div class="flex items-center ml-4">
                        <img class="user-avatar mr-3" src="https://randomuser.me/api/portraits/men/82.jpg"
                          alt="User avatar" />
                        <div>
                          <div class="text-sm font-medium text-gray-900">Đặng Minh Quân</div>
                          <div class="text-sm text-gray-500">quan.dang</div>
                        </div>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">quan.dang@example.com</td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">0918765432</td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full role-admin">Admin</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-active">Hoạt
                      động</span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">25/07/2023</td>
                  <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                    <div class="flex justify-end space-x-2">
                      <button class="text-blue-600 hover:text-blue-900"><i class="fas fa-eye"></i></button>
                      <button class="text-yellow-600 hover:text-yellow-900"><i class="fas fa-edit"></i></button>
                      <button class="text-red-600 hover:text-red-900"><i class="fas fa-trash"></i></button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Pagination -->
          <div class="bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6">
            <div class="flex-1 flex justify-between sm:hidden">
              <a href="#"
                class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                Trước
              </a>
              <a href="#"
                class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                Sau
              </a>
            </div>
            <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
              <div>
                <p class="text-sm text-gray-700">
                  Hiển thị
                  <span class="font-medium">1</span>
                  đến
                  <span class="font-medium">10</span>
                  của
                  <span class="font-medium">78</span>
                  kết quả
                </p>
              </div>
              <div>
                <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                  <a href="#"
                    class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                    <span class="sr-only">Trước</span>
                    <i class="fas fa-chevron-left"></i>
                  </a>
                  <a href="#" aria-current="page"
                    class="z-10 bg-blue-50 border-blue-500 text-blue-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                    1
                  </a>
                  <a href="#"
                    class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                    2
                  </a>
                  <a href="#"
                    class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                    3
                  </a>
                  <span
                    class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700">
                    ...
                  </span>
                  <a href="#"
                    class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                    8
                  </a>
                  <a href="#"
                    class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                    <span class="sr-only">Sau</span>
                    <i class="fas fa-chevron-right"></i>
                  </a>
                </nav>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>

  </div>

  <!-- Add User Modal -->
  <div id="add-user-modal" class="fixed inset-0 overflow-y-auto hidden z-50">
    <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
      <div class="fixed inset-0 transition-opacity" aria-hidden="true">
        <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
      </div>
      <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
      <div
        class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full animate-fade-in">
        <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
          <div class="sm:flex sm:items-start">
            <div class="mt-3 text-center sm:mt-0 sm:text-left w-full">
              <div class="flex justify-between items-center mb-4">
                <div class="w-full">
                  <h3 class="text-lg leading-6 font-medium text-gray-900 pb-2 border-b" id="modal-title">
                    Thêm người dùng mới
                  </h3>
                </div>
                <button id="close-modal" class="text-gray-400 hover:text-gray-500">
                  <i class="fas fa-times"></i>
                </button>
              </div>
              <div class="mt-2">
                <form class="space-y-6">
                  <!-- Personal Information Section -->
                  <div class="space-y-4">

                    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
                      <div>
                        <label for="fullname" class="block text-sm font-medium text-gray-700">
                          Họ và tên <span class="text-red-500">*</span>
                        </label>
                        <input type="text" name="fullname" id="fullname" required
                          class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md px-3 py-2 border" />
                      </div>
                      <div>
                        <label for="phone" class="block text-sm font-medium text-gray-700">
                          Số điện thoại <span class="text-red-500">*</span>
                        </label>
                        <input type="tel" name="phone" id="phone" required
                          class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md px-3 py-2 border" />
                      </div>
                    </div>
                    <div>
                      <label for="email" class="block text-sm font-medium text-gray-700">
                        Email <span class="text-red-500">*</span>
                      </label>
                      <input type="email" name="email" id="email" required
                        class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md px-3 py-2 border" />
                    </div>
                  </div>

                  <!-- Account Settings Section -->
                  <div class="space-y-4">

                    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
                      <div>
                        <label for="password" class="block text-sm font-medium text-gray-700">
                          Mật khẩu <span class="text-red-500">*</span>
                        </label>
                        <input type="password" name="password" id="password" required
                          class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md px-3 py-2 border" />
                      </div>
                      <div>
                        <label for="status" class="block text-sm font-medium text-gray-700">
                          Trạng thái <span class="text-red-500">*</span>
                        </label>
                        <select id="status" name="status" required
                          class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                          <option value="active" selected>Hoạt động</option>
                          <option value="inactive">Ngừng hoạt động</option>
                        </select>
                      </div>
                    </div>
                    <div>
                      <label for="roles" class="block text-sm font-medium text-gray-700">
                        Vai trò <span class="text-red-500">*</span>
                      </label>
                      <select id="roles" name="roles" multiple required
                        class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                        <option value="admin">Admin</option>
                        <option value="manager">Quản lý</option>
                        <option value="user">Nhân viên</option>
                      </select>
                    </div>
                  </div>
                  <!-- Avatar Section -->
                  <div class="space-y-4">
                    <h3 class="text-sm font-medium text-gray-900 border-b pb-2">
                      Ảnh đại diện
                    </h3>
                    <div class="flex items-center">
                      <div class="relative">
                        <span class="inline-block h-16 w-16 rounded-full overflow-hidden bg-gray-100">
                          <svg class="h-full w-full text-gray-300" fill="currentColor" viewBox="0 0 24 24">
                            <path
                              d="M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z" />
                          </svg>
                        </span>
                        <input type="file" id="avatar" name="avatar"
                          class="absolute inset-0 w-full h-full opacity-0 cursor-pointer" />
                      </div>
                      <div class="ml-4">
                        <button type="button" onclick="document.getElementById('avatar').click()"
                          class="bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                          Chọn ảnh
                        </button>
                        <p class="mt-1 text-xs text-gray-500">
                          PNG, JPG, GIF tối đa 5MB
                        </p>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
          <button type="button"
            class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm">
            Lưu
          </button>
          <button id="cancel-modal" type="button"
            class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
            Hủy
          </button>
        </div>
      </div>
    </div>
  </div>
  <!-- Edit User Modal -->
  <div id="edit-user-modal" class="fixed inset-0 overflow-y-auto hidden z-50">
    <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
      <div class="fixed inset-0 transition-opacity" aria-hidden="true">
        <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
      </div>
      <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
      <div
        class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full animate-fade-in">
        <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
          <div class="sm:flex sm:items-start">
            <div class="mt-3 text-center sm:mt-0 sm:text-left w-full">
              <div class="flex justify-between items-center mb-4">
                <div class="w-full">
                  <h3 class="text-lg leading-6 font-medium text-gray-900 pb-2 border-b" id="edit-modal-title">
                    Chỉnh sửa người dùng
                  </h3>
                </div>
                <button id="close-edit-modal" class="text-gray-400 hover:text-gray-500">
                  <i class="fas fa-times"></i>
                </button>
              </div>
              <div class="mt-2">
                <form class="space-y-6" id="edit-user-form">
                  <input type="hidden" id="edit-user-id">
                  <!-- Personal Information Section -->
                  <div class="space-y-4">
                    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
                      <div>
                        <label for="edit-fullname" class="block text-sm font-medium text-gray-700">
                          Họ và tên <span class="text-red-500">*</span>
                        </label>
                        <input type="text" name="fullname" id="edit-fullname" required
                          class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md px-3 py-2 border" />
                      </div>
                      <div>
                        <label for="edit-phone" class="block text-sm font-medium text-gray-700">
                          Số điện thoại <span class="text-red-500">*</span>
                        </label>
                        <input type="tel" name="phone" id="edit-phone" required
                          class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md px-3 py-2 border" />
                      </div>
                    </div>
                    <div>
                      <label for="edit-email" class="block text-sm font-medium text-gray-700">
                        Email <span class="text-red-500">*</span>
                      </label>
                      <input type="email" name="email" id="edit-email" required
                        class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md px-3 py-2 border" />
                    </div>
                  </div>

                  <!-- Account Settings Section -->
                  <div class="space-y-4">
                    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
                      <div>
                        <label for="edit-status" class="block text-sm font-medium text-gray-700">
                          Trạng thái <span class="text-red-500">*</span>
                        </label>
                        <select id="edit-status" name="status" required
                          class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                          <option value="active" selected>Hoạt động</option>
                          <option value="inactive">Ngừng hoạt động</option>
                        </select>
                      </div>
                    </div>
                    <div>
                      <label for="edit-roles" class="block text-sm font-medium text-gray-700">
                        Vai trò <span class="text-red-500">*</span>
                      </label>
                      <select id="edit-roles" name="roles" multiple required
                        class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                        <option value="admin">Admin</option>
                        <option value="manager">Quản lý</option>
                        <option value="user">Nhân viên</option>
                      </select>
                    </div>
                  </div>
                  <!-- Avatar Section -->
                  <div class="space-y-4">
                    <h3 class="text-sm font-medium text-gray-900 border-b pb-2">
                      Ảnh đại diện
                    </h3>
                    <div class="flex items-center">
                      <div class="relative">
                        <span class="inline-block h-16 w-16 rounded-full overflow-hidden bg-gray-100">
                          <img id="edit-avatar-preview" class="h-full w-full object-cover" src="" alt="User avatar" />
                        </span>
                        <input type="file" id="edit-avatar" name="avatar"
                          class="absolute inset-0 w-full h-full opacity-0 cursor-pointer" />
                      </div>
                      <div class="ml-4">
                        <button type="button" onclick="document.getElementById('edit-avatar').click()"
                          class="bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                          Thay đổi
                        </button>
                        <p class="mt-1 text-xs text-gray-500">
                          PNG, JPG, GIF tối đa 5MB
                        </p>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
          <button id="save-edit-btn" type="button"
            class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm">
            Lưu thay đổi
          </button>
          <button id="cancel-edit-modal" type="button"
            class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
            Hủy
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Delete Confirmation Modal -->
  <div id="delete-confirm-modal" class="fixed inset-0 overflow-y-auto hidden z-50">
    <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
      <div class="fixed inset-0 transition-opacity" aria-hidden="true">
        <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
      </div>
      <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
      <div
        class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full animate-fade-in">
        <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
          <div class="sm:flex sm:items-start">
            <div
              class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10">
              <i class="fas fa-exclamation text-red-600"></i>
            </div>
            <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
              <h3 class="text-lg leading-6 font-medium text-gray-900">Xác nhận xóa</h3>
              <div class="mt-2">
                <p class="text-sm text-gray-500">Bạn có chắc chắn muốn xóa người dùng này? Hành động này không thể hoàn
                  tác.</p>
              </div>
            </div>
          </div>
        </div>
        <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
          <button id="confirm-delete-btn" type="button"
            class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm">
            Xóa
          </button>
          <button id="cancel-delete-btn" type="button"
            class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
            Hủy
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- User Detail Modal -->
  <div id="user-detail-modal" class="fixed inset-0 overflow-y-auto hidden z-50">
    <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
      <div class="fixed inset-0 transition-opacity" aria-hidden="true">
        <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
      </div>
      <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
      <div
        class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full animate-fade-in">
        <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
          <div class="sm:flex sm:items-start">
            <div class="mt-3 text-center sm:mt-0 sm:text-left w-full">
              <div class="flex justify-between items-center mb-4">
                <div class="w-full">
                  <h3 class="text-lg leading-6 font-medium text-gray-900 pb-2 border-b">
                    Thông tin chi tiết
                  </h3>
                </div>
                <button id="close-detail-modal" class="text-gray-400 hover:text-gray-500">
                  <i class="fas fa-times"></i>
                </button>
              </div>
              <div class="mt-2">
                <div class="flex items-center space-x-4 mb-4">
                  <img id="detail-avatar" src="" alt="User Avatar" class="w-16 h-16 rounded-full object-cover" />
                  <div>
                    <h2 id="detail-name" class="text-lg font-bold text-gray-900"></h2>
                    <p id="detail-username" class="text-gray-500 text-sm"></p>
                  </div>
                </div>

                <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
                  <div>
                    <label class="block text-sm font-medium text-gray-500">Email</label>
                    <p id="detail-email" class="mt-1 text-sm text-gray-900"></p>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-500">Số điện thoại</label>
                    <p id="detail-phone" class="mt-1 text-sm text-gray-900"></p>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-500">Vai trò</label>
                    <p id="detail-role" class="mt-1 text-sm text-gray-900"></p>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-500">Trạng thái</label>
                    <p id="detail-status" class="mt-1 text-sm text-gray-900"></p>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-500">Ngày tạo</label>
                    <p id="detail-created" class="mt-1 text-sm text-gray-900"></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
          <button id="close-detail-modal-btn" type="button"
            class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm">
            Đóng
          </button>
          <button id="reset-password-btn" type="button"
            class="w-full inline-flex justify-center items-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
            <i class="fas fa-sync-alt mr-2"></i>Làm mới mật khẩu
          </button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {

      // ====== INIT CHOICES ======
      const rolesChoices = new Choices("#roles", {
        removeItemButton: true,
        placeholderValue: "Chọn vai trò",
        searchEnabled: false
      });

      const editRolesSelect = document.getElementById("edit-roles");
      const editRolesChoices = new Choices(editRolesSelect, {
        removeItemButton: true,
        placeholderValue: "Chọn vai trò",
        searchEnabled: false
      });

      // ====== EDIT USER MODAL ======
      const editModal = document.getElementById("edit-user-modal");
      const saveEditBtn = document.getElementById("save-edit-btn");
      const cancelEditBtn = document.getElementById("cancel-edit-modal");
      const closeEditBtn = document.getElementById("close-edit-modal");

      function openEditModal(user) {
        document.getElementById("edit-user-id").value = user.id;
        document.getElementById("edit-fullname").value = user.name;
        document.getElementById("edit-email").value = user.email;
        document.getElementById("edit-phone").value = user.phone;
        document.getElementById("edit-status").value = user.status;
        document.getElementById("edit-avatar-preview").src = user.avatar;

        // reset roles
        editRolesChoices.clearStore();
        editRolesChoices.setChoices([
          { value: "admin", label: "Admin" },
          { value: "manager", label: "Quản lý" },
          { value: "user", label: "Nhân viên" }
        ], "value", "label", true);

        const userRoles = Array.isArray(user.role) ? user.role : [user.role];
        userRoles.forEach(r => {
          editRolesChoices.setChoiceByValue(r.toLowerCase());
        });

        editModal.classList.remove("hidden");
      }

      document.querySelectorAll(".edit-btn").forEach(btn => {
        btn.addEventListener("click", function () {
          const row = this.closest("tr");
          const userData = {
            id: this.getAttribute("data-id"),
            avatar: row.querySelector(".user-avatar").src,
            name: row.querySelector(".text-gray-900").textContent.trim(),
            email: row.querySelectorAll("td")[1].textContent.trim(),
            phone: row.querySelectorAll("td")[2].textContent.trim(),
            role: row.querySelectorAll("td")[3].querySelector("span").textContent.trim().toLowerCase(),
            status: row.querySelectorAll("td")[4].querySelector("span").textContent.trim().toLowerCase() === "hoạt động" ? "active" : "inactive"
          };
          openEditModal(userData);
        });
      });

      saveEditBtn.addEventListener("click", () => {
        const userId = document.getElementById("edit-user-id").value;
        const fullname = document.getElementById("edit-fullname").value;
        const email = document.getElementById("edit-email").value;
        const phone = document.getElementById("edit-phone").value;
        const status = document.getElementById("edit-status").value;
        const roles = editRolesChoices.getValue(true);
        console.log({ id: userId, fullname, email, phone, status, roles });
        alert(`Đã lưu người dùng ${fullname} với roles: ${roles.join(", ")}`);
        editModal.classList.add("hidden");
      });

      [closeEditBtn, cancelEditBtn].forEach(btn => {
        btn.addEventListener("click", () => editModal.classList.add("hidden"));
      });
      window.addEventListener("click", (e) => {
        if (e.target === editModal) editModal.classList.add("hidden");
      });

      // ====== ADD USER MODAL ======
      const addModal = document.getElementById("add-user-modal");
      const addBtn = document.getElementById("add-user-btn");
      const closeAddBtn = document.getElementById("close-modal");
      const cancelAddBtn = document.getElementById("cancel-modal");

      addBtn && addBtn.addEventListener("click", () => addModal.classList.remove("hidden"));
      [closeAddBtn, cancelAddBtn].forEach(btn => {
        btn && btn.addEventListener("click", () => addModal.classList.add("hidden"));
      });
      window.addEventListener("click", (e) => {
        if (e.target === addModal) addModal.classList.add("hidden");
      });

      // ====== USER DETAIL MODAL ======
      const detailModal = document.getElementById("user-detail-modal");
      const closeDetailBtns = [
        document.getElementById("close-detail-modal"),
        document.getElementById("close-detail-modal-btn")
      ];
      const resetPasswordBtn = document.getElementById("reset-password-btn");

      document.querySelectorAll(".text-blue-600").forEach(btn => {
        if (btn.querySelector("i.fa-eye")) {
          btn.addEventListener("click", function () {
            const row = btn.closest("tr");
            if (!row) return;
            const userData = {
              avatar: row.querySelector(".user-avatar").src,
              name: row.querySelector(".text-gray-900").textContent.trim(),
              username: row.querySelector(".text-gray-500").textContent.trim(),
              email: row.querySelectorAll("td")[1].textContent.trim(),
              phone: row.querySelectorAll("td")[2].textContent.trim(),
              role: row.querySelectorAll("td")[3].textContent.trim(),
              status: row.querySelectorAll("td")[4].textContent.trim(),
              createdAt: row.querySelectorAll("td")[5].textContent.trim()
            };
            document.getElementById("detail-avatar").src = userData.avatar;
            document.getElementById("detail-name").textContent = userData.name;
            document.getElementById("detail-username").textContent = `@${userData.username}`;
            document.getElementById("detail-email").textContent = userData.email;
            document.getElementById("detail-phone").textContent = userData.phone;
            document.getElementById("detail-role").textContent = userData.role;
            document.getElementById("detail-status").textContent = userData.status;
            document.getElementById("detail-created").textContent = userData.createdAt;
            detailModal.classList.remove("hidden");
          });
        }
      });

      closeDetailBtns.forEach(btn => {
        btn.addEventListener("click", () => detailModal.classList.add("hidden"));
      });
      window.addEventListener("click", (e) => {
        if (e.target === detailModal) detailModal.classList.add("hidden");
      });

      resetPasswordBtn.addEventListener("click", () => {
        const username = document.getElementById("detail-username").textContent.replace("@", "");
        if (confirm(`Bạn có chắc chắn đặt lại mật khẩu cho ${username}?`)) {
          alert(`Đã gửi mật khẩu mới cho ${username}`);
        }
      });

      // ====== DELETE USER MODAL ======
      const deleteModal = document.getElementById("delete-confirm-modal");
      const confirmDeleteBtn = document.getElementById("confirm-delete-btn");
      const cancelDeleteBtn = document.getElementById("cancel-delete-btn");
      let currentDeleteId = null;

      document.querySelectorAll(".delete-btn").forEach(btn => {
        btn.addEventListener("click", function () {
          currentDeleteId = this.getAttribute("data-id");
          deleteModal.classList.remove("hidden");
        });
      });

      confirmDeleteBtn.addEventListener("click", () => {
        if (currentDeleteId) {
          alert(`Đã xóa người dùng ID ${currentDeleteId}`);
          document.querySelector(`.delete-btn[data-id="${currentDeleteId}"]`).closest("tr").remove();
        }
        deleteModal.classList.add("hidden");
      });
      cancelDeleteBtn.addEventListener("click", () => {
        deleteModal.classList.add("hidden");
      });
      window.addEventListener("click", (e) => {
        if (e.target === deleteModal) deleteModal.classList.add("hidden");
      });

      // ====== SIDEBAR TOGGLE ======
      const toggleSidebar = document.getElementById("toggle-sidebar");
      toggleSidebar && toggleSidebar.addEventListener("click", () => {
        document.querySelector(".sidebar").classList.toggle("collapsed");
      });

    });
  </script>

</body>

</html>