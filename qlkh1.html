<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <title>Qu·∫£n l√Ω kh√°ch h√†ng</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    .custom-shadow {
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }
  </style>
</head>

<body class="bg-gray-50">
  <!-- Sidebar -->
  <div class="flex flex-col fixed inset-y-0 left-0 w-64 bg-blue-800 text-white z-50" id="sidebar">
    <div class="flex items-center justify-center h-16 px-4 bg-blue-900">
      <h1 class="text-lg font-bold">QU·∫¢N L√ù KHO TVL</h1>
    </div>
    <nav class="mt-4 overflow-y-auto">
      <div class="px-4 py-2">
        <h3 class="text-xs font-semibold text-blue-300 uppercase tracking-wider">ƒêƒÉng k√Ω xe</h3>
        <div class="mt-2 space-y-1">
          <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">Nh·∫≠p kho</a>
          <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">Xu·∫•t kho</a>
        </div>
      </div>
      <div class="px-4 py-2">
        <h3 class="text-xs font-semibold text-blue-300 uppercase tracking-wider">Qu·∫£n l√Ω kho</h3>
        <div class="mt-2 space-y-1">
          <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">Chuy·ªÉn tr·∫°ng th√°i h√†ng</a>
          <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">Xu·∫•t kho</a>
          <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">Chuy·ªÉn kho</a>
        </div>
      </div>
      <div class="px-4 py-2">
        <h3 class="text-xs font-semibold text-blue-300 uppercase tracking-wider">Danh m·ª•c</h3>
        <div class="mt-2 space-y-1">
          <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">Kho</a>
          <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">Nh√¢n vi√™n</a>
          <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">ƒê∆°n v·ªã t√≠nh</a>
          <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">Xe</a>
          <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">H√†ng h√≥a</a>
        </div>
      </div>
      <div class="px-4 py-2">
        <a href="./qlkh1.html" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded"><span>Qu·∫£n l√Ω kh√°ch h√†ng</span></a>
        <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">H·ª£p ƒë·ªìng</a>
        <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">Thanh to√°n</a>
        <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">Danh m·ª•c c√¢n</a>
      </div>
      <div class="px-4 py-2">
        <h3 class="text-xs font-semibold text-blue-300 uppercase tracking-wider">Qu·∫£n tr·ªã h·ªá th·ªëng</h3>
        <div class="mt-2 space-y-1">
          <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">Qu·∫£n l√Ω ng∆∞·ªùi d√πng</a>
          <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">Qu·∫£n l√Ω nh√≥m ng∆∞·ªùi d√πng</a>
          <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">Qu·∫£n l√Ω ph√¢n quy·ªÅn</a>
        </div>
      </div>
      <div class="px-4 py-2">
        <h3 class="text-xs font-semibold text-blue-300 uppercase tracking-wider">B√°o c√°o qu·∫£n tr·ªã</h3>
        <div class="mt-2 space-y-1">
          <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">B√°o c√°o t·ªìn kho theo kh√°ch h√†ng</a>
          <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">B√°o c√°o t·ªìn kho theo c√¥ng n·ª£</a>
          <a href="#" class="block px-4 py-2 text-sm hover:bg-blue-700 rounded">Dashboard</a>
        </div>
      </div>
    </nav>
  </div>

  <!-- Main Content (qu·∫£n l√Ω kh√°ch h√†ng) -->
  <div class="ml-64 p-8">
    <title>Qu·∫£n l√Ω kh√°ch h√†ng</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 40px;
      background: #f9fafb;
    }

    h2 {
      font-size: 24px;
      margin-bottom: 4px;
    }

    .customer-header {
      display: flex;
      justify-content: space-between;
      margin: 20px 0;
    }

    .customer-header input {
      width: 300px;
      padding: 8px 12px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    .add-btn {
      background-color: #1677ff;
      color: white;
      border: none;
      padding: 8px 14px;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
    }

    .customer-table {
      background-color: white;
      border: 1px solid #eee;
      border-radius: 8px;
      padding: 20px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 15px;
    }

    table th, table td {
      padding: 12px 10px;
      border-bottom: 1px solid #f0f0f0;
      text-align: left;
    }

    .status.active {
      background-color : rgb(16 185 129 );
      color: #f7fcf9;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 13px;
    }

    .edit-btn, .delete-btn {
      background: none;
      border: none;
      font-size: 16px;
      cursor: pointer;
      margin-right: 5px;
    }

    .delete-btn { color: red; }
    .edit-btn { color: #1677ff; }

    .form-popup {
      background: white;
      border: 1px solid #ccc;
      padding: 20px;
      width: 350px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      position: fixed;
      top: 100px;
      left: calc(50% - 175px);
      z-index: 999;
      border-radius: 8px;
    }

    .form-popup input, .form-popup select {
      width: 100%;
      padding: 8px;
      margin: 8px 0;
      box-sizing: border-box;
    }

    .form-popup button {
      padding: 8px 12px;
      margin-top: 10px;
    }
    .customer-table .fa{
      font-size: 13px;
      padding: 5px;
    }
    .customer-header .relative input{
      padding-left: 35px;
    }
    .type-ca-nhan {
    background-color: #1072c2;
    color: #fafdff;
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 13px;
    display: inline-block;
  }

  .type-doanh-nghiep {
    background-color:rgb(241, 100, 17);
    color: #fdfcfc;
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 13px;
    display: inline-block;
  }
  .customer-table .flex{
    margin-left: 1200px;
    display: inline-flex;
    gap: 8px; /* C√°ch ƒë·ªÅu c√°c n√∫t */
    list-style: none;
    padding: 10px;
  }
  .form-popup {
  background: white;
  border: 1px solid #ccc;
  padding: 24px;
  width: 700px; /* üëà TƒÉng chi·ªÅu r·ªông */
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  position: fixed;
  top: 100px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 999;
  border-radius: 10px;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

.form-popup h3 {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 20px;
}

.form-popup label {
  display: block;
  margin-bottom: 6px;
  font-weight: 500;
}

.form-popup input,
.form-popup select,
.form-popup textarea {
  width: 100%;
  padding: 10px 12px;
  font-size: 14px;
  border: 1px solid #ccc;
  border-radius: 6px;
  background-color: #fff;
}

.form-popup input:focus,
.form-popup select:focus,
.form-popup textarea:focus {
  border-color: #1677ff;
  outline: none;
}

.form-popup button {
  font-size: 14px;
  padding: 8px 14px;
  border-radius: 6px;
  font-weight: 500;
}

.form-popup button[type="submit"] {
  background-color: #1677ff;
  color: white;
  border: none;
}

.form-popup button[type="button"] {
  border: 1px solid #ccc;
  background-color: white;
  color: black;
}

  </style>
</head>
<body>

  <h2><tr>QU·∫¢N L√ù KH√ÅCH H√ÄNG</tr></h2>
  <p>Qu·∫£n l√Ω th√¥ng tin kh√°ch h√†ng trong h·ªá th·ªëng</p>

  <div class="customer-header">
    <div class="relative">
      <input type="text" placeholder="T√¨m ki·∫øm kh√°ch h√†ng..." class="pl-10 pr-4 py-2 border rounded" />
      <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
    </div>

    <button class="add-btn" onclick="openAddForm()">+ Th√™m kh√°ch h√†ng</button>
  </div>

  <div class="customer-table">
    <h3>Danh s√°ch kh√°ch h√†ng</h3>
    <table>
      <thead>
        <tr>
          <th>STT<i  class="fa fa-sort text-gray-500"></i></th>
          <th>M√£ kh√°ch h√†ng <i class="fa fa-sort text-gray-500"></i></th>
          <th>H·ªç v√† t√™n <i class="fa fa-sort text-gray-500"></i></th>
          <th>S·ªë ƒëi·ªán tho·∫°i<i class="fa fa-sort text-gray-500"></i></th>
          <th>Email<i class="fa fa-sort text-gray-500"></i></th>
          <th>Lo·∫°i kh√°ch h√†ng<i class="fa fa-sort text-gray-500"></i></th>
          <th>Tr·∫°ng th√°i</th>
          <th>Thao t√°c</th>
        </tr>
      </thead>
      <tbody id="customerTable"></tbody>
    </table>
     <div id="pagination" class="flex"></div>
  </div>
 


  <!-- Form th√™m/s·ª≠a -->
  <div id="customerForm" class="form-popup" style="display: none;">
  <h3 id="formTitle">Th√™m kh√°ch h√†ng m·ªõi</h3>
  <form onsubmit="saveCustomer(); return false;">
    <input type="hidden" id="customerId">
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
      <div>
        <label for="name">T√™n kh√°ch h√†ng</label>
        <input type="text" id="name" placeholder="Nh·∫≠p t√™n kh√°ch h√†ng" required>
      </div>
      <div>
        <label for="phone">S·ªë ƒëi·ªán tho·∫°i</label>
        <input type="text" id="phone" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i" required>
      </div>
      <div>
        <label for="email">Email</label>
        <input type="email" id="email" placeholder="Nh·∫≠p email" required>
      </div>
      <div>
        <label for="type">Lo·∫°i kh√°ch h√†ng</label>
        <select id="type" required>
          <option value="">Ch·ªçn lo·∫°i kh√°ch h√†ng</option>
          <option value="C√° nh√¢n">C√° nh√¢n</option>
          <option value="Doanh nghi·ªáp">Doanh nghi·ªáp</option>
        </select>
      </div>
      
    </div>

    <div style="margin-top: 24px; display: flex; justify-content: flex-end; gap: 12px;">
      <button type="button" onclick="closeForm()">Hu·ª∑</button>
      <button type="submit">Th√™m kh√°ch h√†ng</button>
    </div>
  </form>
</div>



  <script>
    let customers = [
      { id: 'KH001', name: 'C√¥ng ty TNHH ABC', phone: '0123456789', email: 'abc@company.com', type: 'Doanh nghi·ªáp' },
      { id: 'KH002', name: 'Nguy·ªÖn VƒÉn A', phone: '0987654321', email: 'nguyenvana@email.com', type: 'C√° nh√¢n' },
      {id: 'KH002', name: 'Nguy·ªÖn VƒÉn A', phone: '0987654321', email: 'nguyenvana@email.com', type: 'C√° nh√¢n' },
      { id: 'KH001', name: 'C√¥ng ty TNHH ABC', phone: '0123456789', email: 'abc@company.com', type: 'Doanh nghi·ªáp' },
      { id: 'KH002', name: 'Nguy·ªÖn VƒÉn A', phone: '0987654321', email: 'nguyenvana@email.com', type: 'C√° nh√¢n' },
      {id: 'KH002', name: 'Nguy·ªÖn VƒÉn A', phone: '0987654321', email: 'nguyenvana@email.com', type: 'C√° nh√¢n' },
      { id: 'KH001', name: 'C√¥ng ty TNHH ABC', phone: '0123456789', email: 'abc@company.com', type: 'Doanh nghi·ªáp' },
      { id: 'KH002', name: 'Nguy·ªÖn VƒÉn A', phone: '0987654321', email: 'nguyenvana@email.com', type: 'C√° nh√¢n' },
      {id: 'KH002', name: 'Nguy·ªÖn VƒÉn A', phone: '0987654321', email: 'nguyenvana@email.com', type: 'C√° nh√¢n' },{ id: 'KH001', name: 'C√¥ng ty TNHH ABC', phone: '0123456789', email: 'abc@company.com', type: 'Doanh nghi·ªáp' },
      { id: 'KH002', name: 'Nguy·ªÖn VƒÉn A', phone: '0987654321', email: 'nguyenvana@email.com', type: 'C√° nh√¢n' },
      {id: 'KH002', name: 'Nguy·ªÖn VƒÉn A', phone: '0987654321', email: 'nguyenvana@email.com', type: 'C√° nh√¢n' }

    ];

    function renderTable() {
      const tbody = document.getElementById("customerTable");
      tbody.innerHTML = '';
     customers.forEach((cus, index) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${index + 1}</td> <!-- STT -->
          <td>${cus.id}</td>
          <td>${cus.name}</td>
          <td>${cus.phone}</td>
          <td>${cus.email}</td>
          <td><span class="${cus.type === 'C√° nh√¢n' ? 'type-ca-nhan' : 'type-doanh-nghiep'}">
    ${cus.type} </span></td>

          <td><span class="status active">Ho·∫°t ƒë·ªông</span></td>
          <td>
            <button class="edit-btn" onclick="editCustomer('${cus.id}')" title="S·ª≠a">
            <i class="fas fa-edit"></i>
            </button>

            <button class="delete-btn" onclick="deleteCustomer('${cus.id}')" title="Xo√°">
            <i class="fas fa-trash-alt" style="color: #E54646;"></i>

          </button>

          </td>`;
        tbody.appendChild(tr);
      });

    }

    function openAddForm() {
      document.getElementById("formTitle").innerText = "Th√™m kh√°ch h√†ng";
      document.getElementById("customerForm").style.display = "block";
      document.getElementById("customerId").value = '';
      document.getElementById("name").value = '';
      document.getElementById("phone").value = '';
      document.getElementById("email").value = '';
      document.getElementById("type").value = 'C√° nh√¢n';
    }

    function editCustomer(id) {
      const customer = customers.find(c => c.id === id);
      if (customer) {
        document.getElementById("formTitle").innerText = "S·ª≠a kh√°ch h√†ng";
        document.getElementById("customerForm").style.display = "block";
        document.getElementById("customerId").value = customer.id;
        document.getElementById("name").value = customer.name;
        document.getElementById("phone").value = customer.phone;
        document.getElementById("email").value = customer.email;
        document.getElementById("type").value = customer.type;
      }
    }

    function deleteCustomer(id) {
      if (confirm("B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën xo√° kh√°ch h√†ng n√†y?")) {
        customers = customers.filter(c => c.id !== id);
        renderTable();
      }
    }

    function closeForm() {
      document.getElementById("customerForm").style.display = "none";
    }

    function saveCustomer() {
      const id = document.getElementById("customerId").value;
      const name = document.getElementById("name").value;
      const phone = document.getElementById("phone").value;
      const email = document.getElementById("email").value;
      const type = document.getElementById("type").value;

      if (id) {
        const idx = customers.findIndex(c => c.id === id);
        customers[idx] = { id, name, phone, email, type };
      } else {
        const newId = "KH" + String(customers.length + 1).padStart(3, "0");
        customers.push({ id: newId, name, phone, email, type });
      }

      closeForm();
      renderTable();
    }
    

    let customersPerPage = 10;
  let currentPage = 1;

  function renderTable() {
    const tbody = document.getElementById("customerTable");
    tbody.innerHTML = '';

    let start = (currentPage - 1) * customersPerPage;
    let end = start + customersPerPage;
    let currentCustomers = customers.slice(start, end);

    currentCustomers.forEach((cus, index) => {
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${start + index + 1}</td>
        <td>${cus.id}</td>
        <td>${cus.name}</td>
        <td style="color:  #007BFF;">${cus.phone}</td>
        <td style="color: #007BFF;">${cus.email}</td>
        <td><span class="${cus.type === 'C√° nh√¢n' ? 'type-ca-nhan' : 'type-doanh-nghiep'}">
    ${cus.type} </span>
        </td>

        <td><span class="status active">Ho·∫°t ƒë·ªông</span></td>
        <td>
          <button class="edit-btn" onclick="editCustomer('${cus.id}')" title="S·ª≠a">
            <i class="fas fa-edit text-blue-500"></i>
          </button>
          <button class="delete-btn" onclick="deleteCustomer('${cus.id}')" title="Xo√°">
            <i class="fas fa-trash-alt text-red-400 hover:text-red-600"></i>
          </button>
        </td>`;
      tbody.appendChild(tr);
    });

    renderPagination();
  }

  function renderPagination() {
    const totalPages = Math.ceil(customers.length / customersPerPage);
    const pagination = document.getElementById("pagination");
    pagination.innerHTML = '';

    if (totalPages <= 1) return;

    const prevBtn = document.createElement("button");
    prevBtn.innerText = "‚Äπ";
    prevBtn.disabled = currentPage === 1;
    prevBtn.className = "px-3 py-1 border rounded hover:bg-gray-100";
    prevBtn.onclick = () => {
      currentPage--;
      renderTable();
    };
    pagination.appendChild(prevBtn);

    for (let i = 1; i <= totalPages; i++) {
      const pageBtn = document.createElement("button");
      pageBtn.innerText = i;
      pageBtn.className =
        "px-3 py-1 border rounded hover:bg-gray-100 " +
        (i === currentPage ? "bg-blue-500 text-white" : "");
      pageBtn.onclick = () => {
        currentPage = i;
        renderTable();
      };
      pagination.appendChild(pageBtn);
    }

    const nextBtn = document.createElement("button");
    nextBtn.innerText = "‚Ä∫";
    nextBtn.disabled = currentPage === totalPages;
    nextBtn.className = "px-3 py-1 border rounded hover:bg-gray-100";
    nextBtn.onclick = () => {
      currentPage++;
      renderTable();
    };
    pagination.appendChild(nextBtn);
  }
  function updateSelectColor(select) {
    // X√≥a h·∫øt class c≈©
    select.classList.remove("option-ca-nhan", "option-doanh-nghiep");

    // Th√™m class t∆∞∆°ng ·ª©ng
    if (select.value === "C√° nh√¢n") {
      select.classList.add("option-ca-nhan");
    } else if (select.value === "Doanh nghi·ªáp") {
      select.classList.add("option-doanh-nghiep");
    }
  }

  // G·ªçi khi trang load ƒë·ªÉ c·∫≠p nh·∫≠t ngay n·∫øu ƒë√£ c√≥ s·∫µn gi√° tr·ªã
  window.onload = function () {
    const typeSelect = document.getElementById("type");
    updateSelectColor(typeSelect);
  };

    // Kh·ªüi t·∫°o b·∫£ng khi t·∫£i trang
    window.onload = renderTable;
  </script>
  
</body>
</html>

  </div>
</body>
</html>
